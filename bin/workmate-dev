#!/usr/bin/env bash
set -e

SESSION="Workmate-Tool"
PROJECT_DIR="$HOME/Dokumente/PhuDev/workmate"

echo "ðŸ³ Starte Docker-Stack..."
cd "$PROJECT_DIR"
make up

echo "ðŸ§  Ã–ffne VS Code..."
code workmate.code-workspace &

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# ðŸ§© Starte tmuxp-Session
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
if tmux has-session -t "$SESSION" 2>/dev/null; then
  echo "ðŸ“º Session '$SESSION' existiert bereits. Ã–ffne..."
  tmux attach -t "$SESSION"
else
  echo "ðŸŒ¿ Lade tmuxp-Konfiguration..."
  tmuxp load workmate
fi
